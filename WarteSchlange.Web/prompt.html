
<html>
    <head>
        <title>DigitalQ App</title>
        <link href="style.css" type="text/css" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script>
             function postQueueEntry() {
                
                var url_string = window.location.href;
                var url = new URL(url_string);
                var q = url.searchParams.get("q");
                if(q==null || q=="") return;

                var request = new XMLHttpRequest();
                var postDestination = "https://warteschlangeapi.azurewebsites.net/api/ManageQueue/addEntry/"+q;
                request.open("POST", postDestination, true);
                request.setRequestHeader("Content-type", "text/plain");
                request.onreadystatechange = function () {
                    if (request.readyState == 4 && request.status == 200) {
                        // Request done an OK!
                        var qItemID = request.responseText;
                        console.log("Connect is established!");
                        console.log("Response: " + qItemID);
                        
                        // TODO check if ID is ok
                        window.location.replace("register.html?qItem="+qItemID);
                        
                    }
                };
                request.send();
            }
        
        </script>
    </head>
    <body>
        <div id="main">
            <h1>Welcome at CompanyXY</h1>
            <h2>Do you want to queue?</h2>
            <div id="listbox">
          
            <div id="listheading">Rollcoaster Queue</div>
                <img id="landingPicture" src="achterbahn.jpg" />
            <div id="text">
                 Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna
                aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren,
            </div>
            <div id="row">
                <div id="cellicon">
                    <img src="time.png" id="listicon">
                </div>
                <div id="celltext">Mo. -Fr. 08:00 - 19:00
                    <br>Sa. 09:00-13:00</div>
            </div>
            <div id="row">
                <div id="cellicon">
                    <img src="starttime.png" id="listicon">
                </div>
                <div id="celltext">You entered at 08:43:21</div>
            </div>
            <div id="row">
                <div id="cellicon">
                    <img src="signin.png" id="listicon">
                </div>
                <div id="celltext">No sign-in required</div>
            </div>
            </div>
          

            <a onclick="return postQueueEntry()" id="button">Queue</a> 

            <div id="listbox">
                <div id="listheading">Required to take with</div>
                <div id="text">
                         Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna
                        aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergre 
                </div>
            </div>
        

        </div>
    </body>
</html>